# =================================
# Environment Setup
# =================================
# Copy this file to .env and fill in your values
# The application will automatically load .env file in development

# Server environment (development, staging, production)
LMS_SERVER_ENV=development

# Server host and port
LMS_SERVER_HOST=0.0.0.0
LMS_SERVER_PORT=8080

# Logging level (debug, info, warn, error)
LMS_LOG_LEVEL=info

# Allowed CORS origins (comma or semicolon separated)
# Example: http://localhost:3000,http://localhost:5173
LMS_ALLOWED_ORIGINS=http://localhost:3000

# =================================
# JWT Configuration
# =================================

# JWT secret for access tokens (CHANGE IN PRODUCTION!)
JWT_SECRET=your-secret-key-change-me

# JWT secret for refresh tokens (CHANGE IN PRODUCTION!)
JWT_REFRESH_SECRET=your-refresh-secret-change-me


# =================================
# Database Configuration (PostgreSQL)
# =================================

# Option 1: Database URL (takes precedence if provided)
# Format: postgresql://user:password@host:port/database?sslmode=disable&timezone=UTC
# Example: postgresql://postgres:mypassword@localhost:5432/lms?sslmode=disable&timezone=UTC
DATABASE_URL=

# Option 2: Individual database parameters (used if DATABASE_URL is not provided)

# Database host
LMS_DB_HOST=127.0.0.1

# Database port
LMS_DB_PORT=5432

# Database user
LMS_DB_USER=postgres

# Database password (REQUIRED - NO DEFAULT)
LMS_DB_PASSWORD=

# Database name
LMS_DB_NAME=lms

# SSL mode (disable, require, verify-ca, verify-full)
LMS_DB_SSLMODE=disable

# Database timezone
LMS_DB_TIMEZONE=UTC

# Connection pool settings
LMS_DB_MAX_IDLE_CONNS=5
LMS_DB_MAX_OPEN_CONNS=20
LMS_DB_CONN_MAX_LIFETIME=1800
LMS_DB_CONN_MAX_IDLE_TIME=300

# Run database migrations on startup (true/false)
LMS_DB_RUN_MIGRATIONS=false


# =================================
# Bunny Stream Configuration
# =================================

# Bunny Stream Library ID
BUNNY_STREAM_LIBRARY_ID=

# Bunny Stream API Key
BUNNY_STREAM_API_KEY=

# Bunny Stream Base URL (default: https://video.bunnycdn.com)
BUNNY_STREAM_BASE_URL=https://video.bunnycdn.com

# Bunny Stream Security Key (for signed URLs)
BUNNY_STREAM_SECURITY_KEY=

# Bunny Stream Delivery URL (your video CDN URL)
BUNNY_STREAM_DELIVERY_URL=

# Bunny Stream URL expiration time in seconds (default: 3600 = 1 hour)
BUNNY_STREAM_EXPIRES_IN=3600


# =================================
# Bunny Storage Configuration
# =================================

# Bunny Storage Zone name
BUNNY_STORAGE_ZONE=

# Bunny Storage API Key (Password)
BUNNY_STORAGE_API_KEY=

# Bunny Storage Base URL (default: https://storage.bunnycdn.com)
BUNNY_STORAGE_BASE_URL=https://storage.bunnycdn.com

# Bunny Storage CDN URL (your pull zone URL)
BUNNY_STORAGE_CDN_URL=


# =================================
# Email/SMTP Configuration
# =================================

# SMTP host
SMTP_HOST=smtp.gmail.com

# SMTP port
SMTP_PORT=587

# SMTP username
SMTP_USER=

# SMTP password
SMTP_PASS=

# Email "from" address
SMTP_FROM=noreply@example.com

# Use secure connection (true/false)
SMTP_SECURE=false

# Frontend URL for email links (password reset, email verification)
FRONTEND_URL=http://localhost:3000


# =================================
# Redis Configuration (Optional)
# =================================
# Note: Redis is currently implemented but not configured in config.Load()
# If you need Redis caching, add these to pkg/config/config.go:
# - REDIS_ADDR (e.g., localhost:6379)
# - REDIS_PASSWORD
# - REDIS_DB (default: 0)


# =================================
# In-App Purchase (IAP) Configuration
# =================================

# Google Play IAP (Android)
# Enable/disable Google Play purchase validation (true/false)
IAP_GOOGLE_PLAY_ENABLED=true

# Your Android app package name (e.g., com.yourcompany.lmsapp)
IAP_GOOGLE_PLAY_PACKAGE_NAME=com.thebeast-code.elites

# Google Play service account JSON (from Google Cloud Console)
# This should be the entire JSON key file content as a single line
# Example: {"type":"service_account","project_id":"your-project",...}
# To get this:
# 1. Go to Google Cloud Console
# 2. Create a service account with "Viewer" role
# 3. Download the JSON key
# 4. Paste the entire JSON content here (escape quotes if needed)
IAP_GOOGLE_PLAY_SERVICE_ACCOUNT={"type":"service_account","project_id":"com.thebeast-code.elites"}

# App Store IAP (iOS)
# Enable/disable App Store purchase validation (true/false)
IAP_APP_STORE_ENABLED=true

# App Store shared secret (from App Store Connect)
# To get this:
# 1. Go to App Store Connect
# 2. Select your app
# 3. Go to Features -> In-App Purchases
# 4. Click "App-Specific Shared Secret"
IAP_APP_STORE_SHARED_SECRET=

# Use Apple's sandbox environment for testing (true/false)
# Set to true for development/testing, false for production
IAP_APP_STORE_USE_SANDBOX=true
